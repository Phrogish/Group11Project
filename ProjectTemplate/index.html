<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title></title>
	<!--DO NOT FORGET THIS SCRIPT TAG SO YOU CAN USE JQUERY!!!!!-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<!--YOUR OWN JAVASCRIPT CAN GO RIGHT HERE-->
	<script type="text/javascript">
		function TestButtonHandler() {
			var webMethod = "ProjectServices.asmx/TestConnection";
			var parameters = "{}";

			//jQuery ajax method
			$.ajax({
				type: "POST",
				url: webMethod,
				data: parameters,
				contentType: "application/json; charset=utf-8",
				dataType: "json",
				success: function (msg) {
					var responseFromServer = msg.d;
					alert(responseFromServer);
				},
				error: function (e) {
					alert("this code will only execute if javascript is unable to access the webservice");
				}
			});
		}
		//login function
        function login() {
            $("#errorMessage").text("");

            var webMethod = "ProjectServices.asmx/Login";

            var parameters = JSON.stringify({
                email: $("#email").val(),
                password: $("#password").val()
            });

            $.ajax({
                type: "POST",
                url: webMethod,
                data: parameters,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {

                    var result = msg.d;

                    if (result.success) {
						//redirecting to home page after logging in successfully
						window.location.href = "home.html";

                        
                    }
                    else {
                        $("#errorMessage").text(result.message);
                    }
                },
                error: function (e) {
                    console.log(e);
                    $("#errorMessage").text("Server error — please try again.");
                }
            });
		}

	</script>
	<!--END OF YOUR OWN JAVASCRIPT-->

	<!--AND YOUR OWN CSS CAN GO HERE AS WELL-->
	<style>

	</style>
	<!--END OF YOUR OWN CSS-->
</head >
<body>
	<button onclick="javascript: TestButtonHandler();">Click here to test connection!</button>
	<!-- adding some login inputs-->
	<hr>

	<h2>Employee Login</h2>

	<input id="email" type="text" placeholder="Email" />
	<br><br>

	<input id="password" type="password" placeholder="Password" />
	<br><br>

	<button onclick="login()">Login</button>

	<div id="errorMessage"
		 style="color:red; margin-top:10px;">
	</div>
</body>
</html >
